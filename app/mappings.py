projects = [
    {
        "timely": {
            "active": True,
            "billable": True,
            "id": 2960359,
            "name": "Data Automation",
        },
        "xero": {
            "name": "Data Hub",
            "id": "15ff819d-6d69-406c-98c5-ed9ab9163779",
            "active": True,
        },
    },
    {"timely": {"active": True, "billable": True, "id": 2906218, "name": "Surveys"}},
    {"timely": {"active": True, "billable": False, "id": 2906240, "name": "Internal"}},
    {
        "timely": {
            "active": True,
            "billable": True,
            "id": 2954285,
            "name": "Commission Dashboard",
        },
        "xero": {
            "name": "Commission Dashboard",
            "id": "b1d797e3-e54b-4686-b83f-d8ea5a35f1c2",
            "active": True,
        },
    },
    {
        "timely": {
            "active": True,
            "billable": True,
            "id": 2389295,
            "name": "DinerDiver",
        },
        "xero": {
            "name": "DinerDiver",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "active": True,
        },
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2906311,
            "name": "Open Peoria",
        },
        "xero": {
            "name": "Open Peoria",
            "id": "615c8090-938d-4ee7-8f4e-6ae945920507",
            "active": True,
        },
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2906312,
            "name": "GP Data Community",
        }
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2973544,
            "name": "Smart Airport",
        }
    },
    {"timely": {"active": True, "billable": False, "id": 2980115, "name": "Hiring"}},
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2954247,
            "name": "Onboarding",
        }
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2973418,
            "name": "Analytics Committee",
        }
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2973485,
            "name": "Invoice/Billing Service",
        }
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2906239,
            "name": "Company Website",
        }
    },
    {
        "timely": {"active": True, "billable": False, "id": 2973420, "name": "BOD"},
        "xero": {
            "name": "BOD",
            "id": "23be1505-900b-4504-b1fe-cf1b1c7e1d12",
            "active": True,
        },
    },
    {
        "timely": {"active": True, "billable": False, "id": 2973417, "name": "NomCom"},
        "xero": {
            "name": "NomCom",
            "id": "3fe4d0ef-b45f-4812-8ca8-9c64f6bd679c",
            "active": True,
        },
    },
    {
        "timely": {
            "active": True,
            "billable": False,
            "id": 2906308,
            "name": "Smart Cities",
        }
    },
    {
        "timely": {
            "active": True,
            "billable": True,
            "id": 2906220,
            "name": "IPA/AEA Apps",
        }
    },
]

users = [
    {
        "timely": {"id": 933370, "name": "Reuben Cummings"},
        "xero": {
            "name": "Reuben Cummings",
            "id": "a76380db-eb5f-4fe4-8975-99ad2fabbd13",
        },
    },
    {
        "timely": {"id": 1281455, "name": "Mitchell Sotto"},
        "xero": {
            "name": "Mitchell Sotto",
            "id": "3f7626f2-5064-4499-a96c-e73653e5aa01",
        },
    },
    {
        "timely": {"id": 1281876, "name": "Aditya Sahay"},
        "xero": {"name": "Aditya Sahay", "id": "b21daba7-83b1-4a94-8467-35bb1964abd0"},
    },
]

tasks = [
    {
        "timely": {
            "billable": True,
            "id": 1344431,
            "name": "Development (setup, programming, debugging, testing, documentation etc.)",
        }
    },
    {
        "timely": {
            "billable": True,
            "id": 1344432,
            "name": "Maintenance (server upgrades, bug fixes, etc.)",
        }
    },
    {
        "timely": {
            "billable": True,
            "id": 1344444,
            "name": "Design (web, database, spec, etc.)",
        }
    },
    {
        "timely": {
            "billable": True,
            "id": 1344445,
            "name": "Consulting (strategizing, client meetings, presentations, demos, etc.)",
        }
    },
    {
        "timely": {
            "billable": True,
            "id": 1344447,
            "name": "Instructing (workshops, seminars, coaching sessions, etc.)",
        }
    },
    {
        "timely": {
            "billable": True,
            "id": 1344449,
            "name": "Research (specific: via blogs, documentation, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1339636,
            "name": "R&D (creating new frameworks/libraries, tools, processes, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1339639,
            "name": "Admin (meetings, time tracking, email, calendar, organizing, paperwork, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1339640,
            "name": "Sales (validating, prospecting, proposals, contracts, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1340560,
            "name": "Instructing (explaining, wiki documentation, reviewing, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344451,
            "name": "Evaluating (selecting internal tools and services)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344452,
            "name": "Marketing (blogging, social media, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344464,
            "name": "Learning (general: via articles, books, tutorials, courses, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344466,
            "name": "Networking (social media, meetups, conferences, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344521,
            "name": "HR (benefits, contracts, payroll, etc.)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344604,
            "name": "Misc (doesn't fit elsewhere)",
        }
    },
    {
        "timely": {
            "billable": False,
            "id": 1344671,
            "name": "Finance & Accounting (bookeeping, budgeting, forecasting, invoicing, etc.)",
        }
    },
]

project_tasks = [
    {
        "timely": {
            "billable": True,
            "id": 1344431,
            "name": "Development (setup, programming, debugging, testing, documentation etc.)",
        },
        "xero": {
            "name": "1 Hour Development (Technical Director)",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "rate.value": 125.0,
            "status": "ACTIVE",
            "taskId": "ef251547-9e8a-4304-8a4b-ac6b4bd631e4",
        },
    },
    {
        "timely": {
            "billable": True,
            "id": 1344444,
            "name": "Design (web, database, spec, etc.)",
        },
        "xero": {
            "name": "1 Hour Design (Creative Director)",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "rate.value": 125.0,
            "status": "ACTIVE",
            "taskId": "9f34793b-56ec-4b09-a07e-6b99e0fec2f3",
        },
    },
    {
        "timely": {
            "billable": True,
            "id": 1344445,
            "name": "Consulting (strategizing, client meetings, presentations, demos, etc.)",
        },
        "xero": {
            "name": "1 Hour Consulting (Partner)",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "rate.value": 125.0,
            "status": "ACTIVE",
            "taskId": "f73a0a0d-92ca-4981-8008-44e9bc3cda9b",
        },
    },
    {
        "timely": {
            "billable": False,
            "id": 1344464,
            "name": "Learning (general: via articles, books, tutorials, courses, etc.)",
        },
        "xero": {
            "name": "1 Hour Client Work (Non-Billable)",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "rate.value": 0.0,
            "status": "ACTIVE",
            "taskId": "1bee78cf-3b74-460a-8e6a-d957276d7177",
        },
    },
    {
        "timely": {
            "billable": False,
            "id": 1339636,
            "name": "R&D (creating new frameworks/libraries, tools, processes, etc.)",
        },
        "xero": {
            "name": "1 Hour R&D (Non-Billable)",
            "id": "803591c3-72af-4475-888f-7c4c50044589",
            "rate.value": 0.0,
            "status": "ACTIVE",
            "taskId": "001313ee-c233-436e-9d29-ec6d46eaaa0e",
        },
    },
]

timely_events = {
    "165829339": {
        "billed": False,
        "day": "2019-09-09",
        "duration.total_minutes": 23,
        "id": 165829339,
        "label_ids[0]": 1344445,
        "note": "DinerDiver Companies • DinerDiver Menus • Untitled spreadsheet •  • Google Drive File Stream",
        "project.id": 2389295,
        "user.id": 933370,
    }
}


def gen_timely_to_xero(mapping):
    for pair in mapping:
        if pair.get("timely") and pair.get("xero"):
            yield (pair["timely"]["id"], pair["xero"]["id"])


def gen_xero_to_timely(mapping):
    for pair in mapping:
        if pair.get("timely") and pair.get("xero"):
            yield (pair["timely"]["id"], pair["xero"]["id"])


def gen_mappers(mapper):
    mappings = {"projects": projects, "users": users, "tasks": project_tasks}

    for map_name, mapping in mappings.items():
        yield (map_name, dict(mapper(mapping)))


timely_to_xero = dict(gen_mappers(gen_timely_to_xero))
xero_to_timely = dict(gen_mappers(gen_xero_to_timely))
